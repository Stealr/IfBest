@use '@/styles/variables' as *;

/* =====================================================
   CARD-ARTICLE  (featured + compact)
   ===================================================== */
.card-article {
  border-radius: 1.6rem;
  background: var(--background-secondary);
  color: var(--text-primary);

  /* универсальная кнопка-меню */
  &__menu {
    background: none;
    border: none;
    font-size: 2rem;
    cursor: pointer;
    color: var(--text-secondary);
  }

  /* общие элементы */
  &__thumb  { object-fit: cover; border-radius: .8rem; max-width: none; }
  &__title  { font: 600 1.4rem/1 var(--font-family); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
  &__author { font-size: 1.2rem; }
  &__date   { font-size: 1.2rem; color: var(--text-secondary); }

  /* =====================================================
     FEATURED  (898 × 404)
     ===================================================== */
  &--featured {
    width: 89.8rem;
    height: 46.4rem;
    position: relative;
    background: center/cover no-repeat;
    display: flex; flex-direction: column; justify-content: flex-end;

    > .card-article__menu { position:absolute; top:2.1rem; right:2.1rem; color:#fff; }

    > .card-article__title {
      position:absolute; top:11rem; left:50%; transform:translateX(-50%);
      width: calc(100% - 6rem); text-align:center;
      font-size:2.6rem; font-weight:700; color:#fff;
    }

    .card-article__footer  {
      width: 100%; max-width: 85rem;
      margin: 0 auto 2rem;
      padding: 1.6rem 2.4rem;
      background:#fff; border-radius:1.2rem; box-sizing:border-box;
      display:flex; flex-direction:column; gap:1.2rem;
    }

    .card-article__meta          { display:flex; align-items:flex-start; justify-content:space-between; }
    .card-article__channel-block { display:flex; align-items:center; gap:1.2rem; }
    .card-article__avatar        { width:3.2rem; height:3.2rem; border-radius:50%; object-fit:cover; }
    .card-article__channel       { font-size:1.4rem; font-weight:600; }
    .card-article__stats         { font-size:1.2rem; color:var(--text-secondary); white-space:nowrap; }
    .card-article__text          { font-size:1.3rem; line-height:1.5; }
  }

  /* =====================================================
     COMPACT  — плавное сжатие через clamp(vw, rem)
     ===================================================== */
  &--compact {
  /* 43 rem → 30 rem (плавно) */
    width : clamp(41rem,   3vw + 29rem, 43rem);
    height: clamp(10rem,  .9vw +  9rem, 12.4rem);

    display: flex;
    gap: clamp(.8rem, .8vw, 1.2rem);
    padding: 1.2rem;

    border: .1rem solid #444;
    border-radius: 1.2rem;
    background: var(--background-secondary);

  /* превью */
    .card-article__thumb {
      width : clamp( 9rem, 1.8vw + 7rem, 12.44rem);
      height: clamp( 7rem, 1.5vw + 6rem, 10rem);
      flex-shrink: 0;
    }

  /* текстовый блок */
    .card-article__body  {
      flex: 1;
      min-width: 0;
      display: flex;
      flex-direction: column;
    }

    .card-article__title  {
      font-size: clamp(1.1rem, .4vw + 1rem, 1.4rem);
      margin-top: 0;
    }

    .card-article__author {
     font-size: clamp(1rem,  .3vw + .8rem, 1.2rem);
      margin-top: .2rem;
    }

    .card-article__date   {
      font-size: clamp(1rem,  .3vw + .8rem, 1.2rem);
      margin-top: auto;
    }

    .card-article__menu   {
      align-self: flex-end;
      margin-top: auto;
      font-size: clamp(1.6rem, .4vw + 1.2rem, 2rem);
      line-height: 1;
    }
  }

  /* =====================================================
     Глобальный breakpoint  ≤ 1024 px
     ===================================================== */
  @media (max-width:1024px) {
    &--featured, &--compact { width:100%; height:auto; }

    .card-article__thumb { width:10rem; height:8rem; }
    .card-article__menu  { height:auto; }
  }
}








